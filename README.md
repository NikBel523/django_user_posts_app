# Бэкенд Django приложения для представления списка пользователей и их постов

## Описание проекта

Приложение на Django представляет собой витрину с несколькими страницами, на которых отображается список пользователей, 
список постов пользователей, домашняя страница пользователя и личная карточка пользователя. Данные могут быть загружены 
в базу через стандартную админку или через команды управления, которые загружают данные из файлов.

## Установка и настройка

### Предварительные требования

- Python 3.8+
- Django 3.2+
- Pillow (используется для добавления аватара пользователя в модель)

### Установка зависимостей

Убедитесь, что у вас установлен `pipenv` или `pip`. Установите зависимости:

```bash
pip install -r requirements.txt
```

### Настройка базы данных

Проект использует SQLite по умолчанию. База данных будет создана автоматически при миграции.

### Миграция базы данных

Выполните миграции для создания таблиц в базе данных:

```bash
python manage.py migrate
```

## Наполнение базы

Добавление пользователей и постов возможно через админку, а также через команды.

### Создание суперпользователей

Для создания тестовых суперпользователей используйте следующую команду:

```bash
python manage.py create_superusers
```

Файл с данными должен находиться по пути data/superusers.json и содержать структуру для каждого объекта:

```json
[
    {
        "username": "admin1",
        "email": "admin1@example.com",
        "full_name": "Admin One",
        "address": "123 Admin St",
        "password": "password123"
    }
]
```

### Создание постов

Для создания тестовых постов используйте следующую команду:

```bash
python manage.py load_posts
```

Файл с данными должен находиться по пути data/posts.json и содержать структуру для каждого объекта:

```json
[
    {
        "title": "Героизм ночи",
        "text": "Смелое спасение из горящего здания",
        "author": 1
    }
]
```

## Использование

### Запуск сервера разработки

Для запуска сервера разработки используйте команду:

```bash
python manage.py runserver
```

### Доступ к админке

Перейдите по адресу http://127.0.0.1:8000/admin и войдите с учетной записью суперпользователя.

### URL маршруты
Пользователи
- Список пользователей: http://127.0.0.1:8000/users/
- Домашняя страница пользователя: http://127.0.0.1:8000/users/home/
- Изменение информации о пользователе: http://127.0.0.1:8000/users/<int:user_id>/

Посты
- Список постов: http://127.0.0.1:8000/posts/

### Структура проекта
- users/models.py: Модель пользователя MetroUser.
- users/forms.py: Форма для изменения информации о пользователе UserForm.
- users/views.py: Представления для работы с пользователями.
- pages/models.py: Модель поста Post.
- pages/views.py: Представление для списка постов PostListView.
- management/commands/load_posts.py: Команда для загрузки постов.
- management/commands/create_superusers.py: Команда для создания суперпользователей.


<br>

Автор: [Беляков Никита](https://github.com/NikBel523)
